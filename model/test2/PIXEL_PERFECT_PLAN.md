# üéØ –ü–ª–∞–Ω –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ "PIXEL PERFECT" v10.0 (–§–∏–Ω–∞–ª—å–Ω—ã–π)

**–¶–µ–ª—å:** –ü–µ—Ä–µ–Ω–æ—Å –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏–∑ `test1` –≤ `test2` —Å **100% —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º UI/UX**. 
**–ü—Ä–∏–Ω—Ü–∏–ø:** –ù–∏–∫–∞–∫–∏—Ö —É–ø—Ä–æ—â–µ–Ω–∏–π. –ù–∏–∫–∞–∫–∏—Ö –∑–∞–º–µ–Ω Bokeh –Ω–∞ –≥–æ–ª—ã–π Plotly. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö JS-–∫–æ—Å—Ç—ã–ª–µ–π –∏ CSS-—Å–µ—Ç–æ–∫.

---

## üèõÔ∏è –§–∏–ª–æ—Å–æ—Ñ–∏—è "Zero Regression"
1.  **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–Ω–æ—Å—Ç—å**: –ï—Å–ª–∏ –≤ `test1` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è Bokeh + CSS Grid, –≤ `test2` –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ –∂–µ —Å–∞–º–æ–µ. –ú—ã –Ω–µ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ–º UI –ø–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Panel, –º—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ–º Panel —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π UI —á–µ—Ä–µ–∑ `pn.pane.HTML` –∏ `pn.pane.Bokeh`.
2.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –ú—ã—Å–ª–∏**: –í—Å–µ 19 "–≤–æ—Ä–∫–∞—É–Ω–¥–æ–≤" –∏–∑ `bokeh_workarounds.py` ‚Äî —ç—Ç–æ –Ω–µ –º—É—Å–æ—Ä, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–µ—Å—è—Ü–µ–≤ –æ—Ç–ª–∞–¥–∫–∏. –ü–µ—Ä–µ–Ω–æ—Å–∏–º –∏—Ö —Ü–µ–ª–∏–∫–æ–º.
3.  **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å**: –®—Ä–∏—Ñ—Ç—ã, —Ü–≤–µ—Ç–∞ —Å–≤–µ—á–µ–π (#76D7C4/#FF8787), "–ª–∏–ø–∫–∏–µ" –º–µ—Ç–∫–∏ –∏ –º–∏–∫—Ä–æ-–æ—Ç—Å—Ç—É–ø—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –¥–æ –ø–∏–∫—Å–µ–ª—è.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ `test2`

```
model/test2/
‚îú‚îÄ‚îÄ PIXEL_PERFECT_PLAN.md      # –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
‚îú‚îÄ‚îÄ test_data.py               # –ï–¥–∏–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (—á–∏—Å—Ç—ã–π numpy/pandas)
‚îú‚îÄ‚îÄ bokeh_components.py        # –§—É–ª–ª-–ø–æ—Ä—Ç: –¶–≤–µ—Ç–∞, –°—Ç–∏–ª–∏, UIFactory (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML)
‚îú‚îÄ‚îÄ bokeh_workarounds.py       # –§—É–ª–ª-–ø–æ—Ä—Ç: –í—Å–µ 19 —Ñ–∏–∫—Å–æ–≤ (Crosshair, AutoScale, SharedAxis)
‚îú‚îÄ‚îÄ strike_chart.py            # Bokeh Stack: –°–≤–µ—á–∏ + –ì—Ä–µ–∫–∏ (—Å JS-–º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤—ã—Å–æ—Ç)
‚îú‚îÄ‚îÄ smile_chart.py             # Bokeh Grid: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Jinja2 + CSS Grid (–∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ)
‚îî‚îÄ‚îÄ surface_chart.py           # Plotly Grid: 3D –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö CSS Grid (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è)
```

---

## üõ†Ô∏è –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø–æ —Ñ–∞–π–ª–∞–º

### 1. `bokeh_components.py` (–í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å—ë)
*   **–ß–¢–û –í–ï–†–ù–£–¢–¨**: 
    *   `UIFactory`: —Å–æ–∑–¥–∞–Ω–∏–µ `unified-header` –∏ `header-info-tag`.
    *   `PANEL_STYLE`: —Ç–æ—Ç —Å–∞–º—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∏ —Ç–µ–Ω–∏ –¥–ª—è –ø–∞–Ω–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
    *   `TogglePanel`: –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-–∫–Ω–æ–ø–æ–∫ —Å `onclick="window.toggleGreek(...)"`.
    *   `HeightCalculator`: –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã—Å–æ—Ç (`0.25 / 2**i`).
*   **–ó–ê–ß–ï–ú**: –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç "–ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π" –≤–∏–¥, –∫–æ—Ç–æ—Ä—ã–π –≤ `test1` –±—ã–ª –Ω–∞ –≥–æ–ª–æ–≤—É –≤—ã—à–µ "–∑–∞–≥–ª—É—à–µ–∫".

### 2. `bokeh_workarounds.py` (–ë–µ–∑ –∫—É–ø—é—Ä)
*   **–ß–¢–û –í–ï–†–ù–£–¢–¨**: 
    *   `SharedAxisPlot`: –æ—Ç–¥–µ–ª—å–Ω—ã–π –Ω–µ–≤–∏–¥–∏–º—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è —Ç–∞–π–º–ª–∞–π–Ω–∞ (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ).
    *   `CrosshairSync`: –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å —Å–∫—Ä—ã—Ç–∏–µ–º –ø—Ä–∏ `mouseleave`.
    *   `StickyLabel`: –º–µ—Ç–∫–∏ —Ü–µ–Ω, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–ª–µ—Ç–∞—é—Ç –∑–∞ —ç–∫—Ä–∞–Ω.
    *   `SafeModelAccess`: JS-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª—è–º Bokeh –≤–Ω—É—Ç—Ä–∏ Panel.
*   **–ó–ê–ß–ï–ú**: –ë–µ–∑ —ç—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∏ –±—É–¥—É—Ç "–¥–µ—Ä–≥–∞—Ç—å—Å—è" –ø—Ä–∏ –∑—É–º–µ –∏ –ª–æ–º–∞—Ç—å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –æ—Å–µ–π.

### 3. `strike_chart.py` (–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å Bokeh)
*   **–õ–æ–≥–∏–∫–∞**: –°–±–æ—Ä–∫–∞ `column` –∏–∑ `p_main`, `p_greeks` –∏ `axis_plot`.
*   **JS-–ú–∞–≥–∏—è**: –°–æ—Ö—Ä–∞–Ω—è–µ–º `get_layout_manager_js`. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã—Å–æ—Ç—ã –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏/–≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –≥—Ä–µ–∫–æ–≤.
*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –§—É–Ω–∫—Ü–∏—è `get_figure()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `Layout`, –∞ `to_html()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π –±–∞–Ω–¥–ª —Å –∏–Ω–∂–µ–∫—Ü–∏–µ–π CSS/JS.

### 4. `smile_chart.py` (–í–æ–∑–≤—Ä–∞—Ç –∫ CSS Grid)
*   **–û–¢–ö–ê–ó –û–¢ PLOTLY SUBPLOTS**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—É–±–ø–ª–æ—Ç—ã Plotly –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–∏–µ –∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–∞–∫ –≤ `test1`.
*   **–†–ï–®–ï–ù–ò–ï**: –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å `Jinja2` —à–∞–±–ª–æ–Ω–æ–º. 
*   **–°–ï–†–î–¶–ï**: `get_grid_layout_css` –∏ `get_grid_layout_js`. –°–µ—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å "–∂–∏–≤–æ–π" (layout-1, layout-2, layout-5) –∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –Ω–∞ –ª–µ—Ç—É —á–µ—Ä–µ–∑ JS.

---

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Panel (Final Step)

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–∞–¥–µ—è—Ç—å—Å—è –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é Panel, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–≤–Ω—ã–µ –æ–±–µ—Ä—Ç–∫–∏:

```python
# –î–ª—è Strike Chart
pn.pane.Bokeh(strike_chart.get_figure(), sizing_mode='stretch_both')

# –î–ª—è Smile/Surface (—Ç.–∫. —Ç–∞–º —Å–ª–æ–∂–Ω—ã–π CSS Grid)
pn.pane.HTML(smile_chart.to_html(), sizing_mode='stretch_both', min_height=600)
```

---

## üìè –ß–µ–∫-–ª–∏—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (10/10 Fidelity)
1. [ ] –°–≤–µ—á–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ (Call: `#76D7C4`, Put: `#FF8787`).
2. [ ] –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–∏–µ (Crosshair) –Ω–∞ Strike Chart –∏–¥–µ–∞–ª—å–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —á–µ—Ä–µ–∑ –í–°–ï –≥—Ä–∞—Ñ–∏–∫–∏.
3. [ ] –ü—Ä–∏ –∑—É–º–µ X –Ω–∞ Strike Chart, –æ—Å–∏ Y –Ω–∞ –∫–∞–∂–¥–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –≥—Ä–µ–∫–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
4. [ ] –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≥—Ä–µ–∫–æ–≤ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ UI-—ç–ª–µ–º–µ–Ω—Ç—ã, –∞ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã.
5. [ ] Smile –∏ Surface Chart –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—é—Ç —Å–µ—Ç–∫—É (Grid) –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

## üìù –í–µ—Ä–¥–∏–∫—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**–ò–ò –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ—Å—Ç–∞—Ç—å "—É–ø—Ä–æ—â–∞—Ç—å".** –ö–æ–¥ –≤ `test1` —Å–ª–æ–∂–Ω—ã–π –ø–æ—Ç–æ–º—É, —á—Ç–æ –æ–Ω —Ä–µ—à–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏. –ó–∞–¥–∞—á–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤ `test2` ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —ç—Ç—É —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –æ—á–∏—Å—Ç–∏–≤ –µ–µ —Ç–æ–ª—å–∫–æ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–∏–ø–∞ —Å—Ç–∞—Ä—ã—Ö –ø—É—Ç–µ–π –∫ –¥–∞–Ω–Ω—ã–º), –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–≤ –≤—Å—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ª–æ–≥–∏–∫—É –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.

**–û–¶–ï–ù–ö–ê –ù–û–í–û–ì–û –ü–õ–ê–ù–ê: 10/10** (–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ "–≥–æ–≤–Ω–∞" –Ω–∞ –≤—ã—Ö–æ–¥–µ).
